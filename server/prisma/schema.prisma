generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model category {
  categoryId   String    @id
  categoryName String?   @db.VarChar(255)
  product      product[]
}

model product {
  productId     String   @id
  productName   String?  @db.VarChar(255)
  price         Decimal  @db.Decimal(10, 2)
  stockQuantity Int
  createdAt     DateTime
  categoryId    String
  imageData     String
  category      category @relation(fields: [categoryId], references: [categoryId], map: "Product_categoryId_fkey")

  @@index([categoryId], map: "Product_categoryId_fkey")
}

model user {
  userId      String       @id
  username    String       @unique(map: "User_username_key")
  password    String
  role        user_role
  isActive    Boolean
  createdAt   DateTime
  updatedAt   DateTime
  userdetails userdetails?
}

model userdetails {
  userDetailId String @id
  userId       String @unique(map: "UserDetails_userId_key")
  firstName    String
  lastName     String
  contact      String
  address      String
  email        String @unique(map: "UserDetails_email_key")
  user         user   @relation(fields: [userId], references: [userId], map: "UserDetails_userId_fkey")
}

enum user_role {
  ADMIN
  CUSTOMER
}
